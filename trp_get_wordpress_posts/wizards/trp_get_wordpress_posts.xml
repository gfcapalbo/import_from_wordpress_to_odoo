<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        

        <record id="view_wp_page_dumps" model="ir.ui.view">
            <field name="name">Wordpress Page template dumps</field>
            <field name="model">wp.pagedump</field>
            <field name="arch" type="xml">
                <tree string="Procurement Request">
                        <field name="Title" />
                        <field name="HtmlDump" />
                        <field name="origin_wp_site"  />
                </tree>
            </field>
        </record>


        <record id="view_wp_wevbsites" model="ir.ui.view">
            <field name="name">Wordpress websites</field>
            <field name="model">wp.wordpress.site</field>
            <field name="arch" type="xml">
                <tree string="Websites">
                        <field name="WP_LOC" />
                        <field name="WP_USR" />
                        <field name="WP_PWD" password="True" />
                </tree>
            </field>
        </record>



        <record id="view_import_wp_blogposts" model="ir.ui.view">
            <field name="name">Import Wordpress blogposts</field>
            <field name="model">wp.import.blog.post</field>
            <field name="arch" type="xml">
                <form string="Wordpress Import">

                    <p class="oe_gray">
                        <br/>
                        Use this assistant to import all your wordpress blog posts in your new odoo website.
                    </p>
                    <group>
                        <field name="WP_SITE" />
                        <field name="delete_old" />
                    </group>        
                    <footer>
                        <button name="import_posts" string="Import Posts and Pagedumps" type="object"  class="oe_highlight"  />
                        or
                        <button name="get_all_images" string="Import all images as attachments" type="object"  class="oe_highlight"  />
                        or
                        <button string="Cancel" class="oe_link" special="cancel" />
                        All imported records will be written as odoo "Administrator" We will introduce some form 
                        of mapping between odoo users and wordpress users in a future version.
                    </footer>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="act_import_wp_blogposts">
            <field name="name">Inport Wordpress Blogposts</field>
            <field name="res_model">wp.import.blog.post</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>


        <menuitem 
            name="Import From Wordpress" 
            id="menu_import_wp" parent="website_blog.menu_wiki" 
            sequence="20" />

        <record model="ir.actions.act_window" id="act_wordpress_websites">
            <field name="name">Wordpress Websites</field>
            <field name="res_model">wp.wordpress.site</field>
            <field name="view_mode">tree,form</field>
            <field name="help"> insert here XML RPC location and access data to your
                Wordpress site</field>
        </record>

        <menuitem 
            id="menu_wp_sites" 
            parent="trp_get_wordpress_posts.menu_import_wp" 
            name="Wordpress Websites" 
            action="act_wordpress_websites" sequence="20"/>

        <menuitem 
            id="menu_import_wp_blogposts" 
            parent="trp_get_wordpress_posts.menu_import_wp" 
            name="Import Wordpress Blog Posts" 
            action="act_import_wp_blogposts" sequence="20"/>
        
        <record model="ir.actions.act_window" id="act_view_page_dumps">
            <field name="name">View wordpress page dumps</field>
            <field name="res_model">wp.pagedump</field>
            <field name="view_mode">tree</field>
        </record>

        <menuitem 
            id="menu_view_wp_page_dumps" 
            parent="trp_get_wordpress_posts.menu_import_wp" 
            name="View Page Dumps from wordpress" 
            action="act_view_page_dumps" sequence="18"/>


    </data>
</openerp>
